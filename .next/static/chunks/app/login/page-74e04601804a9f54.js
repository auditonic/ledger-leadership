(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{92887:function(e,t,r){Promise.resolve().then(r.bind(r,38991))},38991:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return m},dynamic:function(){return d}});var n=r(57437),s=r(2265),a=r(99376),i=r(68123),l=r(14362),u=r(12381),o=r(40279),c=r(79820);let d="force-dynamic";function f(){let e=(0,a.useRouter)(),t=(0,a.useSearchParams)(),{user:r}=(0,l.a)(),[d,f]=(0,s.useState)(""),[m,h]=(0,s.useState)(""),[p,x]=(0,s.useState)(""),[g,b]=(0,s.useState)(!1);(0,s.useEffect)(()=>{if(r){let r=t.get("redirect")||"/llops";e.push(r)}},[r,e,t]);let y=async r=>{r.preventDefault(),x(""),b(!0);try{await (0,i.zB)(d,m);let r=t.get("redirect")||"/llops";e.push(r)}catch(e){x(e.message||"Failed to sign in")}finally{b(!1)}};return(0,n.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-gray-50 px-4",children:(0,n.jsxs)(c.Zb,{className:"w-full max-w-md",children:[(0,n.jsxs)(c.Ol,{children:[(0,n.jsx)(c.ll,{children:"Sign In"}),(0,n.jsx)(c.SZ,{children:"Enter your credentials to access the LLOps Control Center"})]}),(0,n.jsx)(c.aY,{children:(0,n.jsxs)("form",{onSubmit:y,className:"space-y-4",children:[p&&(0,n.jsx)("div",{className:"rounded-md bg-red-50 p-3 text-sm text-red-800",children:p}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,n.jsx)(o.I,{id:"email",type:"email",value:d,onChange:e=>f(e.target.value),required:!0,placeholder:"you@example.com",autoComplete:"email"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,n.jsx)(o.I,{id:"password",type:"password",value:m,onChange:e=>h(e.target.value),required:!0,placeholder:"••••••••",autoComplete:"current-password"})]}),(0,n.jsx)(u.z,{type:"submit",className:"w-full",disabled:g,children:g?"Signing in...":"Sign In"}),(0,n.jsx)("div",{className:"text-center text-sm text-gray-600",children:(0,n.jsx)("a",{href:"/forgot-password",className:"text-blue-600 hover:underline",children:"Forgot password?"})})]})})]})})}function m(){return(0,n.jsx)(s.Suspense,{fallback:(0,n.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-gray-50 px-4",children:(0,n.jsx)(c.Zb,{className:"w-full max-w-md",children:(0,n.jsxs)(c.Ol,{children:[(0,n.jsx)(c.ll,{children:"Sign In"}),(0,n.jsx)(c.SZ,{children:"Loading..."})]})})}),children:(0,n.jsx)(f,{})})}},12381:function(e,t,r){"use strict";r.d(t,{z:function(){return i}});var n=r(57437),s=r(2265),a=r(93448);let i=s.forwardRef((e,t)=>{let{className:r,variant:s="default",size:i="default",...l}=e;return(0,n.jsx)("button",{className:(0,a.cn)("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50","default"===s&&"bg-primary text-primary-foreground hover:bg-primary/90","outline"===s&&"border border-input bg-background hover:bg-accent hover:text-accent-foreground","ghost"===s&&"hover:bg-accent hover:text-accent-foreground","link"===s&&"text-primary underline-offset-4 hover:underline","default"===i&&"h-10 px-4 py-2","sm"===i&&"h-9 rounded-md px-3","lg"===i&&"h-11 rounded-md px-8","icon"===i&&"h-10 w-10",r),ref:t,...l})});i.displayName="Button"},79820:function(e,t,r){"use strict";r.d(t,{Ol:function(){return l},SZ:function(){return o},Zb:function(){return i},aY:function(){return c},ll:function(){return u}});var n=r(57437),s=r(2265),a=r(93448);let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...s})});i.displayName="Card";let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",r),...s})});l.displayName="CardHeader";let u=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("h3",{ref:t,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",r),...s})});u.displayName="CardTitle";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("p",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",r),...s})});o.displayName="CardDescription";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",r),...s})});c.displayName="CardContent"},40279:function(e,t,r){"use strict";r.d(t,{I:function(){return i}});var n=r(57437),s=r(2265),a=r(93448);let i=s.forwardRef((e,t)=>{let{className:r,type:s,...i}=e;return(0,n.jsx)("input",{type:s,className:(0,a.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...i})});i.displayName="Input"},14362:function(e,t,r){"use strict";r.d(t,{AuthProvider:function(){return u},a:function(){return o}});var n=r(57437),s=r(2265),a=r(68123),i=r(5526);let l=(0,s.createContext)(void 0);function u(e){let{children:t}=e,[r,u]=(0,s.useState)(null),[o,c]=(0,s.useState)(!0),d=async()=>{try{let e=await (0,a.cs)();u(e)}catch(e){console.error("Error refreshing user:",e),u(null)}finally{c(!1)}},f=async()=>{await (0,a.w7)(),u(null)};return(0,s.useEffect)(()=>{d();let{data:{subscription:e}}=i.supabase.auth.onAuthStateChange(async(e,t)=>{"SIGNED_IN"===e||"TOKEN_REFRESHED"===e?await d():"SIGNED_OUT"===e&&u(null)});return()=>{e.unsubscribe()}},[]),(0,n.jsx)(l.Provider,{value:{user:r,loading:o,signOut:f,refreshUser:d},children:t})}function o(){let e=(0,s.useContext)(l);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},68123:function(e,t,r){"use strict";r.d(t,{cs:function(){return a},w7:function(){return i},zB:function(){return l}});var n=r(5526);async function s(e){return(0,n.et)(e)}async function a(){let{data:{user:e},error:t}=await n.supabase.auth.getUser();if(t||!e)return null;try{let t=await s(e.id);return{id:e.id,email:e.email,profile:t}}catch(t){return{id:e.id,email:e.email,profile:null}}}async function i(){let{error:e}=await n.supabase.auth.signOut();if(e)throw e;window.location.href="/login"}async function l(e,t){let{data:r,error:s}=await n.supabase.auth.signInWithPassword({email:e,password:t});if(s)throw s;return r}},5526:function(e,t,r){"use strict";r.d(t,{et:function(){return o},supabase:function(){return u}});var n=r(13053),s=r(40257);let a=s.env.NEXT_PUBLIC_SUPABASE_URL||s.env.SUPABASE_URL||"",i=s.env.NEXT_PUBLIC_SUPABASE_ANON_KEY||s.env.SUPABASE_ANON_KEY||"",l=null;if(a&&i)try{l=(0,n.eI)(a,i,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}})}catch(e){console.warn("Failed to create Supabase client:",e)}else l=(0,n.eI)("https://placeholder.supabase.co","placeholder-key",{auth:{autoRefreshToken:!1,persistSession:!1,detectSessionInUrl:!1}});let u=l;async function o(e){if(!u||!s.env.NEXT_PUBLIC_SUPABASE_URL)return null;try{let{data:t,error:r}=await u.from("profiles").select("role, email").eq("id",e).single();if(r)throw r;return t}catch(e){return null}}},93448:function(e,t,r){"use strict";r.d(t,{cn:function(){return a}});var n=r(61994),s=r(53335);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.m6)((0,n.W)(t))}}},function(e){e.O(0,[115,265,971,117,744],function(){return e(e.s=92887)}),_N_E=e.O()}]);